<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aikido: aikido::perception::PoseEstimatorModule Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aikido
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d8/d92/classaikido_1_1perception_1_1PoseEstimatorModule-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">aikido::perception::PoseEstimatorModule Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Instantiates the <code><a class="el" href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html" title="The interface for the generic perception module.">PerceptionModule</a></code> specifically for PoseEstimator.  
 <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/d69/PoseEstimatorModule_8hpp_source.html">aikido/perception/PoseEstimatorModule.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for aikido::perception::PoseEstimatorModule:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.png" usemap="#aikido::perception::PoseEstimatorModule_map" alt=""/>
  <map id="aikido::perception::PoseEstimatorModule_map" name="aikido::perception::PoseEstimatorModule_map">
<area href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html" title="The interface for the generic perception module." alt="aikido::perception::PerceptionModule" shape="rect" coords="0,0,238,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a981b3b5085c7273a66205618968947c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a981b3b5085c7273a66205618968947c4">PoseEstimatorModule</a> (ros::NodeHandle nodeHandle, const std::string &amp;markerTopic, std::shared_ptr&lt; <a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html">AssetDatabase</a> &gt; assetData, std::shared_ptr&lt; <a class="el" href="../../d5/d55/classaikido_1_1io_1_1CatkinResourceRetriever.html">aikido::io::CatkinResourceRetriever</a> &gt; resourceRetriever, const std::string &amp;referenceFrameId, dart::dynamics::Frame *referenceLink)</td></tr>
<tr class="memdesc:a981b3b5085c7273a66205618968947c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a PoseEstimator receiver that subscribes to the specified topic where objects' pose information is being published as a <code>visualization_msg::MarkerArray</code>, uses a database loader for configuration information related to tags.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a981b3b5085c7273a66205618968947c4">More...</a><br /></td></tr>
<tr class="separator:a981b3b5085c7273a66205618968947c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5188b3f878d177d6bc76af3615e266"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a4d5188b3f878d177d6bc76af3615e266">~PoseEstimatorModule</a> ()=default</td></tr>
<tr class="separator:a4d5188b3f878d177d6bc76af3615e266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc95b012eec52f4dc84c60174e71c75f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#acc95b012eec52f4dc84c60174e71c75f">detectObjects</a> (const <a class="el" href="../../d5/dc7/namespaceaikido_1_1planner.html#aa129f13cd8608a9a2c32ff3ed004b401">aikido::planner::WorldPtr</a> &amp;env, ros::Duration timeout=ros::Duration(), ros::Time timestamp=ros::Time(0.0), std::vector&lt; <a class="el" href="../../dd/d05/classaikido_1_1perception_1_1DetectedObject.html">DetectedObject</a> &gt; *detectedObjects=nullptr) override</td></tr>
<tr class="memdesc:acc95b012eec52f4dc84c60174e71c75f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the specific detector via a service call or ROS message reception, lookup the transform between the specified frames, load object models for new objects, compute their pose, and update the list of DART Skeletons that represents the world.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#acc95b012eec52f4dc84c60174e71c75f">More...</a><br /></td></tr>
<tr class="separator:acc95b012eec52f4dc84c60174e71c75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classaikido_1_1perception_1_1PerceptionModule"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classaikido_1_1perception_1_1PerceptionModule')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html">aikido::perception::PerceptionModule</a></td></tr>
<tr class="memitem:a23df4e43e5fed3dcf764e51ec78270bb inherit pub_methods_classaikido_1_1perception_1_1PerceptionModule"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html#a23df4e43e5fed3dcf764e51ec78270bb">~PerceptionModule</a> ()=default</td></tr>
<tr class="separator:a23df4e43e5fed3dcf764e51ec78270bb inherit pub_methods_classaikido_1_1perception_1_1PerceptionModule"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a791ae43ea5e5a2285ff1715c2b4818f3"><td class="memItemLeft" align="right" valign="top">ros::NodeHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a791ae43ea5e5a2285ff1715c2b4818f3">mNodeHandle</a></td></tr>
<tr class="memdesc:a791ae43ea5e5a2285ff1715c2b4818f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the ROS node that will work with the April Tags module.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a791ae43ea5e5a2285ff1715c2b4818f3">More...</a><br /></td></tr>
<tr class="separator:a791ae43ea5e5a2285ff1715c2b4818f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadbd51ac344178650e7a9435a5f9dd1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#aeadbd51ac344178650e7a9435a5f9dd1">mMarkerTopic</a></td></tr>
<tr class="memdesc:aeadbd51ac344178650e7a9435a5f9dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the ROS topic to read marker info from.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#aeadbd51ac344178650e7a9435a5f9dd1">More...</a><br /></td></tr>
<tr class="separator:aeadbd51ac344178650e7a9435a5f9dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ac04ad3b6fae4836f1e59e29fc7661"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html">AssetDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a15ac04ad3b6fae4836f1e59e29fc7661">mAssetData</a></td></tr>
<tr class="memdesc:a15ac04ad3b6fae4836f1e59e29fc7661"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pointer to the loader of visual asset data.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a15ac04ad3b6fae4836f1e59e29fc7661">More...</a><br /></td></tr>
<tr class="separator:a15ac04ad3b6fae4836f1e59e29fc7661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e301f04e249295d8713d621de2b2017"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d5/d55/classaikido_1_1io_1_1CatkinResourceRetriever.html">aikido::io::CatkinResourceRetriever</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a1e301f04e249295d8713d621de2b2017">mResourceRetriever</a></td></tr>
<tr class="memdesc:a1e301f04e249295d8713d621de2b2017"><td class="mdescLeft">&#160;</td><td class="mdescRight">To retrieve resources from disk and from packages.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a1e301f04e249295d8713d621de2b2017">More...</a><br /></td></tr>
<tr class="separator:a1e301f04e249295d8713d621de2b2017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda6c18c0f49dc4d8507427eeb4c7055"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#abda6c18c0f49dc4d8507427eeb4c7055">mReferenceFrameId</a></td></tr>
<tr class="memdesc:abda6c18c0f49dc4d8507427eeb4c7055"><td class="mdescLeft">&#160;</td><td class="mdescRight">The desired reference frame for the object pose.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#abda6c18c0f49dc4d8507427eeb4c7055">More...</a><br /></td></tr>
<tr class="separator:abda6c18c0f49dc4d8507427eeb4c7055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51771cfaaee5a99d4c7de65016cdb5f6"><td class="memItemLeft" align="right" valign="top">dart::dynamics::Frame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a51771cfaaee5a99d4c7de65016cdb5f6">mReferenceLink</a></td></tr>
<tr class="memdesc:a51771cfaaee5a99d4c7de65016cdb5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reference frame of HERB to transform with respect to.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#a51771cfaaee5a99d4c7de65016cdb5f6">More...</a><br /></td></tr>
<tr class="separator:a51771cfaaee5a99d4c7de65016cdb5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1611ee04b97e74b1016edba287b6d2"><td class="memItemLeft" align="right" valign="top">tf::TransformListener&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#adc1611ee04b97e74b1016edba287b6d2">mTfListener</a></td></tr>
<tr class="memdesc:adc1611ee04b97e74b1016edba287b6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listens to the transform attached to the node.  <a href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html#adc1611ee04b97e74b1016edba287b6d2">More...</a><br /></td></tr>
<tr class="separator:adc1611ee04b97e74b1016edba287b6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Instantiates the <code><a class="el" href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html" title="The interface for the generic perception module.">PerceptionModule</a></code> specifically for PoseEstimator. </p>
<p>It receives input from the PoseEstimator running in a separate process, by subscribing to a <code>visualization_msg::MarkerArray</code> ROS topic published by the PoseEstimator node. It uses a <code><a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html" title="Instantiation of AssetDatabase that reads of JSON file containing the information that maps object ke...">AssetDatabase</a></code> to resolve each marker to a <code>dart::common::Uri</code>, and updates the environment which is an <code><a class="el" href="../../d0/dee/classaikido_1_1planner_1_1World.html" title="A Kinematic world that contains a set of skeletons.">aikido::planner::World</a></code>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a981b3b5085c7273a66205618968947c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981b3b5085c7273a66205618968947c4">&#9670;&nbsp;</a></span>PoseEstimatorModule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">aikido::perception::PoseEstimatorModule::PoseEstimatorModule </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle&#160;</td>
          <td class="paramname"><em>nodeHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>markerTopic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html">AssetDatabase</a> &gt;&#160;</td>
          <td class="paramname"><em>assetData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d5/d55/classaikido_1_1io_1_1CatkinResourceRetriever.html">aikido::io::CatkinResourceRetriever</a> &gt;&#160;</td>
          <td class="paramname"><em>resourceRetriever</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>referenceFrameId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dart::dynamics::Frame *&#160;</td>
          <td class="paramname"><em>referenceLink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a PoseEstimator receiver that subscribes to the specified topic where objects' pose information is being published as a <code>visualization_msg::MarkerArray</code>, uses a database loader for configuration information related to tags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nodeHandle</td><td>The node handle to be passed to the detector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">markerTopic</td><td>The name of the topic on which objects' pose information is being published </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">assetData</td><td>The pointer to the loader of visual asset data (</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html" title="Instantiation of AssetDatabase that reads of JSON file containing the information that maps object ke...">AssetDatabase</a>) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">resourceRetriever</td><td>A CatkinResourceRetriever for resources related to config files and models </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">referenceFrameId</td><td>The desired reference frame for the object pose </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">referenceLink</td><td>A link on the robot with respect to which the pose is transformed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d5188b3f878d177d6bc76af3615e266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d5188b3f878d177d6bc76af3615e266">&#9670;&nbsp;</a></span>~PoseEstimatorModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual aikido::perception::PoseEstimatorModule::~PoseEstimatorModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acc95b012eec52f4dc84c60174e71c75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc95b012eec52f4dc84c60174e71c75f">&#9670;&nbsp;</a></span>detectObjects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool aikido::perception::PoseEstimatorModule::detectObjects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/dc7/namespaceaikido_1_1planner.html#aa129f13cd8608a9a2c32ff3ed004b401">aikido::planner::WorldPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Duration&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>ros::Duration()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>ros::Time(0.0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../dd/d05/classaikido_1_1perception_1_1DetectedObject.html">DetectedObject</a> &gt; *&#160;</td>
          <td class="paramname"><em>detectedObjects</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run the specific detector via a service call or ROS message reception, lookup the transform between the specified frames, load object models for new objects, compute their pose, and update the list of DART Skeletons that represents the world. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">env</td><td>World to add perceived objects to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>The duration up to which to wait for the transform. Returns false if none of the markers get correctly transformed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>Only detections more recent than this timestamp will be accepted. A timestamp of 0 greedily takes the first available message, and is the default behaviour. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">detectedObjects</td><td>An output vector for detected objects before timeout. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <code>false</code> if no detection observed before timeout. Returns <code>true</code> otherwise. Looks for the following information sent via ROS (see <code><a class="el" href="../../dd/d05/classaikido_1_1perception_1_1DetectedObject.html" title="DetectedObject delegates a detected object from a third-party perception algorithm.">DetectedObject</a></code>): visualization_msgs/Marker message like the following: Marker.header.frame_id -&gt; detectionFrameID Marker.ns + "_" + Marker.id -&gt; objUid (identity in <a class="el" href="../../d0/dee/classaikido_1_1planner_1_1World.html" title="A Kinematic world that contains a set of skeletons.">planner::World</a>) Marker.ns -&gt; objAssetKey (determines visual asset, see <a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html" title="Instantiation of AssetDatabase that reads of JSON file containing the information that maps object ke...">AssetDatabase</a>) </dd></dl>

<p>Implements <a class="el" href="../../d7/dce/classaikido_1_1perception_1_1PerceptionModule.html#a3af9e4c6d1a4f4424a1abce9fdd691fb">aikido::perception::PerceptionModule</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a15ac04ad3b6fae4836f1e59e29fc7661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ac04ad3b6fae4836f1e59e29fc7661">&#9670;&nbsp;</a></span>mAssetData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d1/d83/classaikido_1_1perception_1_1AssetDatabase.html">AssetDatabase</a>&gt; aikido::perception::PoseEstimatorModule::mAssetData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pointer to the loader of visual asset data. </p>

</div>
</div>
<a id="aeadbd51ac344178650e7a9435a5f9dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeadbd51ac344178650e7a9435a5f9dd1">&#9670;&nbsp;</a></span>mMarkerTopic</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string aikido::perception::PoseEstimatorModule::mMarkerTopic</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the ROS topic to read marker info from. </p>

</div>
</div>
<a id="a791ae43ea5e5a2285ff1715c2b4818f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791ae43ea5e5a2285ff1715c2b4818f3">&#9670;&nbsp;</a></span>mNodeHandle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::NodeHandle aikido::perception::PoseEstimatorModule::mNodeHandle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For the ROS node that will work with the April Tags module. </p>

</div>
</div>
<a id="abda6c18c0f49dc4d8507427eeb4c7055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda6c18c0f49dc4d8507427eeb4c7055">&#9670;&nbsp;</a></span>mReferenceFrameId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string aikido::perception::PoseEstimatorModule::mReferenceFrameId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The desired reference frame for the object pose. </p>

</div>
</div>
<a id="a51771cfaaee5a99d4c7de65016cdb5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51771cfaaee5a99d4c7de65016cdb5f6">&#9670;&nbsp;</a></span>mReferenceLink</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dart::dynamics::Frame* aikido::perception::PoseEstimatorModule::mReferenceLink</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The reference frame of HERB to transform with respect to. </p>

</div>
</div>
<a id="a1e301f04e249295d8713d621de2b2017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e301f04e249295d8713d621de2b2017">&#9670;&nbsp;</a></span>mResourceRetriever</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d5/d55/classaikido_1_1io_1_1CatkinResourceRetriever.html">aikido::io::CatkinResourceRetriever</a>&gt; aikido::perception::PoseEstimatorModule::mResourceRetriever</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To retrieve resources from disk and from packages. </p>

</div>
</div>
<a id="adc1611ee04b97e74b1016edba287b6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1611ee04b97e74b1016edba287b6d2">&#9670;&nbsp;</a></span>mTfListener</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf::TransformListener aikido::perception::PoseEstimatorModule::mTfListener</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listens to the transform attached to the node. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/dcf/namespaceaikido.html">aikido</a></li><li class="navelem"><a class="el" href="../../d1/da8/namespaceaikido_1_1perception.html">perception</a></li><li class="navelem"><a class="el" href="../../d4/db6/classaikido_1_1perception_1_1PoseEstimatorModule.html">PoseEstimatorModule</a></li>
    <li class="footer">Generated on Fri Mar 10 2023 20:07:41 for Aikido by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
